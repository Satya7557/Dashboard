<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Notes</title>
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='80' font-size='80' fill='white'>N</text></svg>">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
  :root {
    --primary-color: #7c3aed;
    --secondary-color: #5b21b6;
    --background-dark: #0d0d0d;
    --background-darker: #050505;
    --background-light: #f8fafc;
    --text-dark: #ffffff;
    --text-light: #1a1a1a;
    --card-dark: #151515;
    --card-light: #ffffff;
    --accent-dark: #2a2a2a;
    --accent-light: #e5e7eb;
    --shadow: 0 10px 20px rgba(0, 0, 0, 0.25);
    --button-bg: rgba(35, 35, 35, 0.8);
    --button-hover: rgba(65, 65, 65, 0.9);
    --input-bg: rgba(40, 40, 40, 0.6);
    --border-dark: rgba(80, 80, 80, 0.3);
  }

  * {
    box-sizing: border-box;
    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
  }

  body {
    margin: 0;
    padding: 0;
    font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, var(--background-darker), var(--background-dark));
    color: var(--text-dark);
    position: relative;
    min-height: 100vh;
    line-height: 1.6;
  }

  body.light-mode {
    background: linear-gradient(135deg, #f0f4ff, #e0e7ff);
    color: var(--text-light);
    --button-bg: rgba(220, 220, 220, 0.8);
    --button-hover: rgba(200, 200, 200, 0.9);
    --input-bg: rgba(240, 240, 240, 0.8);
  }

  .container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 20px;
  }

  header {
    display: flex;
    justify-content: flex-end;
    align-items: center;
    padding: 20px 0;
    margin-bottom: 20px;
    flex-wrap: wrap;
    gap: 15px;
  }

  .app-title {
    margin-right: auto;
    font-weight: 700;
    font-size: 1.8rem;
    color: var(--text-dark);
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .light-mode .app-title {
    color: var(--text-light);
  }

  .controls {
    display: flex;
    gap: 15px;
    flex-wrap: wrap;
    align-items: center;
  }

  .top-buttons {
    display: flex;
    gap: 10px;
  }

  .top-buttons button {
    padding: 10px 16px;
    font-size: 0.95rem;
    border: none;
    border-radius: 8px;
    background: var(--button-bg);
    color: var(--text-dark);
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    gap: 8px;
    backdrop-filter: blur(10px);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  }

  .light-mode .top-buttons button {
    color: var(--text-light);
  }

  .top-buttons button:hover {
    background: var(--button-hover);
    transform: translateY(-2px);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
  }

  .theme-toggle {
    display: flex;
    align-items: center;
    gap: 8px;
    background: var(--button-bg);
    padding: 10px 16px;
    border-radius: 8px;
    cursor: pointer;
    color: var(--text-dark);
    backdrop-filter: blur(10px);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  }

  .light-mode .theme-toggle {
    color: var(--text-light);
  }

  .theme-toggle:hover {
    background: var(--button-hover);
  }

  .theme-toggle-slider {
    width: 48px;
    height: 24px;
    background-color: #333;
    border-radius: 24px;
    position: relative;
    transition: background-color 0.3s;
  }

  .light-mode .theme-toggle-slider {
    background-color: #7c3aed;
  }

  .theme-toggle-slider:before {
    content: "";
    position: absolute;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    top: 2px;
    left: 2px;
    background-color: white;
    transition: transform 0.3s;
  }

  .light-mode .theme-toggle-slider:before {
    transform: translateX(24px);
  }

  .notes-container {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 25px;
    margin-bottom: 80px;
  }

  .subject-card {
    background: var(--card-dark);
    border-radius: 12px;
    padding: 20px;
    display: flex;
    flex-direction: column;
    gap: 15px;
    box-shadow: var(--shadow);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    position: relative;
    overflow: hidden;
    border: 1px solid var(--border-dark);
  }

  .light-mode .subject-card {
    background: var(--card-light);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
    border: 1px solid var(--accent-light);
  }

  .subject-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
  }

  .subject-card h2 {
    margin: 0;
    font-size: 1.5rem;
    color: var(--text-dark);
    display: flex;
    align-items: center;
    gap: 10px;
    font-weight: 600;
  }

  .light-mode .subject-card h2 {
    color: var(--text-light);
  }

  textarea {
    width: 100%;
    height: 200px;
    background: var(--input-bg);
    border: 1px solid var(--border-dark);
    border-radius: 8px;
    padding: 15px;
    color: var(--text-dark);
    resize: vertical;
    font-size: 1rem;
    box-sizing: border-box;
    transition: border-color 0.3s ease;
    font-family: inherit;
    line-height: 1.5;
  }

  .light-mode textarea {
    color: var(--text-light);
    border: 1px solid var(--accent-light);
  }

  textarea:focus {
    outline: none;
    border-color: #8b5cf6;
    box-shadow: 0 0 0 2px rgba(139, 92, 246, 0.2);
  }

  .card-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 0.85rem;
    color: var(--text-dark);
    opacity: 0.8;
  }

  .light-mode .card-footer {
    color: var(--text-light);
  }

  .character-count {
    font-weight: 500;
  }

  .last-saved {
    font-style: italic;
  }

  .save-indicator {
    position: fixed;
    bottom: 30px;
    left: 30px;
    background: rgba(20, 20, 20, 0.9);
    color: white;
    padding: 12px 24px;
    border-radius: 8px;
    display: none;
    align-items: center;
    gap: 10px;
    backdrop-filter: blur(10px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    z-index: 1000;
    border: 1px solid var(--border-dark);
  }

  .light-mode .save-indicator {
    background: rgba(255, 255, 255, 0.95);
    color: var(--text-light);
    border: 1px solid var(--accent-light);
  }

  .save-indicator.show {
    display: flex;
    animation: fadeInOut 2s ease;
  }

  @keyframes fadeInOut {
    0%, 100% { opacity: 0; transform: translateY(20px); }
    20%, 80% { opacity: 1; transform: translateY(0); }
  }

  .subject-icon {
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
  }

  .light-mode .subject-icon {
    background: rgba(124, 58, 237, 0.1);
  }

  @media (max-width: 768px) {
    header {
      justify-content: center;
      flex-direction: column;
    }
    
    .app-title {
      margin-right: 0;
      margin-bottom: 15px;
    }
    
    .controls {
      width: 100%;
      justify-content: center;
    }
    
    .notes-container {
      grid-template-columns: 1fr;
    }
  }

  @media (max-width: 480px) {
    .top-buttons button {
      padding: 8px 12px;
      font-size: 0.85rem;
    }
    
    .theme-toggle {
      padding: 8px 12px;
    }
    
    .app-title {
      font-size: 1.5rem;
    }
  }
</style>
</head>
<body>

<div class="container">
  <header>
    <div class="app-title">
      <i class="fas fa-book"></i>
      Study Notes
    </div>
    <div class="controls">
      <div class="top-buttons">
        <button id="exportButton" title="Export Notes">
          <i class="fas fa-file-export"></i> Export
        </button>
        <button id="importButton" title="Import Notes">
          <i class="fas fa-file-import"></i> Import
        </button>
        <button id="saveButton" title="Save Notes">
          <i class="fas fa-save"></i> Save
        </button>
      </div>
      <div class="theme-toggle" id="themeToggle">
        <span>‚òÄÔ∏è</span>
        <div class="theme-toggle-slider"></div>
        <span>üåô</span>
      </div>
    </div>
  </header>

  <div class="notes-container">
    <div class="subject-card">
      <h2><div class="subject-icon"><i class="fas fa-calculator"></i></div> Accounting</h2>
      <textarea placeholder="Write your accounting notes here..." id="Accounting"></textarea>
      <div class="card-footer">
        <span class="character-count">0 characters</span>
        <span class="last-saved"></span>
      </div>
    </div>
    <div class="subject-card">
      <h2><div class="subject-icon"><i class="fas fa-gavel"></i></div> Law</h2>
      <textarea placeholder="Write your law notes here..." id="Law"></textarea>
      <div class="card-footer">
        <span class="character-count">0 characters</span>
        <span class="last-saved"></span>
      </div>
    </div>
    <div class="subject-card">
      <h2><div class="subject-icon"><i class="fas fa-file-invoice-dollar"></i></div> Income Tax</h2>
      <textarea placeholder="Write your income tax notes here..." id="IncomeTax"></textarea>
      <div class="card-footer">
        <span class="character-count">0 characters</span>
        <span class="last-saved"></span>
      </div>
    </div>
    <div class="subject-card">
      <h2><div class="subject-icon"><i class="fas fa-receipt"></i></div> GST</h2>
      <textarea placeholder="Write your GST notes here..." id="GST"></textarea>
      <div class="card-footer">
        <span class="character-count">0 characters</span>
        <span class="last-saved"></span>
      </div>
    </div>
    <div class="subject-card">
      <h2><div class="subject-icon"><i class="fas fa-search-dollar"></i></div> Audit</h2>
      <textarea placeholder="Write your audit notes here..." id="Audit"></textarea>
      <div class="card-footer">
        <span class="character-count">0 characters</span>
        <span class="last-saved"></span>
      </div>
    </div>
    <div class="subject-card">
      <h2><div class="subject-icon"><i class="fas fa-money-bill-wave"></i></div> Costing</h2>
      <textarea placeholder="Write your costing notes here..." id="Costing"></textarea>
      <div class="card-footer">
        <span class="character-count">0 characters</span>
        <span class="last-saved"></span>
      </div>
    </div>
    <div class="subject-card">
      <h2><div class="subject-icon"><i class="fas fa-chart-line"></i></div> Financial Management</h2>
      <textarea placeholder="Write your financial management notes here..." id="FinancialManagement"></textarea>
      <div class="card-footer">
        <span class="character-count">0 characters</span>
        <span class="last-saved"></span>
      </div>
    </div>
    <div class="subject-card">
      <h2><div class="subject-icon"><i class="fas fa-chess"></i></div> Strategic Management</h2>
      <textarea placeholder="Write your strategic management notes here..." id="StrategicManagement"></textarea>
      <div class="card-footer">
        <span class="character-count">0 characters</span>
        <span class="last-saved"></span>
      </div>
    </div>
  </div>
</div>

<div class="save-indicator" id="saveIndicator">
  <i class="fas fa-check-circle"></i> All notes saved successfully!
</div>

<script>
  const subjects = ["Accounting","Law","IncomeTax","GST","Audit","Costing","FinancialManagement","StrategicManagement"];

  // DOM elements
  const saveButton = document.getElementById('saveButton');
  const exportButton = document.getElementById('exportButton');
  const importButton = document.getElementById('importButton');
  const themeToggle = document.getElementById('themeToggle');
  const saveIndicator = document.getElementById('saveIndicator');

  // Check for saved theme preference or respect OS preference
  const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');
  const currentTheme = localStorage.getItem('theme') || (prefersDarkScheme.matches ? 'dark' : 'light');

  if (currentTheme === 'light') {
    document.body.classList.add('light-mode');
  }

  // Load saved notes on page load
  window.addEventListener('DOMContentLoaded', () => {
    subjects.forEach(sub => {
      const saved = localStorage.getItem(sub);
      if (saved) {
        document.getElementById(sub).value = saved;
        updateCharacterCount(sub);
        updateLastSaved(sub);
      }
    });
  });

  // Update character count for each textarea
  subjects.forEach(sub => {
    const textarea = document.getElementById(sub);
    textarea.addEventListener('input', () => {
      updateCharacterCount(sub);
      // Auto-save after 2 seconds of inactivity
      clearTimeout(window[`autoSave_${sub}`]);
      window[`autoSave_${sub}`] = setTimeout(() => {
        saveNote(sub);
      }, 2000);
    });
  });

  // Save All button
  saveButton.addEventListener('click', () => {
    subjects.forEach(sub => {
      saveNote(sub);
    });
    showSaveIndicator();
  });

  // Export button
  exportButton.addEventListener('click', () => {
    const data = {};
    subjects.forEach(sub => { 
      data[sub] = document.getElementById(sub).value; 
    });
    const blob = new Blob([JSON.stringify(data, null, 2)], {type: 'application/json'});
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = 'notes_export.json';
    a.click();
  });

  // Import button
  importButton.addEventListener('click', () => {
    const input = document.createElement('input');
    input.type = 'file';
    input.accept = 'application/json';
    input.onchange = e => {
      const file = e.target.files[0];
      const reader = new FileReader();
      reader.onload = event => {
        const data = JSON.parse(event.target.result);
        subjects.forEach(sub => {
          if (data[sub]) {
            document.getElementById(sub).value = data[sub];
            saveNote(sub);
          }
        });
        showSaveIndicator();
      };
      reader.readAsText(file);
    };
    input.click();
  });

  // Theme toggle
  themeToggle.addEventListener('click', () => {
    document.body.classList.toggle('light-mode');
    
    let theme = 'dark';
    if (document.body.classList.contains('light-mode')) {
      theme = 'light';
    }
    
    localStorage.setItem('theme', theme);
  });

  // Helper functions
  function saveNote(subject) {
    const notes = document.getElementById(subject).value;
    localStorage.setItem(subject, notes);
    updateLastSaved(subject);
  }

  function updateCharacterCount(subject) {
    const textarea = document.getElementById(subject);
    const count = textarea.value.length;
    textarea.parentElement.querySelector('.character-count').textContent = `${count} characters`;
  }

  function updateLastSaved(subject) {
    const now = new Date();
    const timeString = now.toLocaleTimeString();
    const textarea = document.getElementById(subject);
    textarea.parentElement.querySelector('.last-saved').textContent = `Last saved: ${timeString}`;
  }

  function showSaveIndicator() {
    saveIndicator.classList.add('show');
    setTimeout(() => {
      saveIndicator.classList.remove('show');
    }, 2000);
  }
</script>

</body>
</html>
